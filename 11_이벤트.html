<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>와 이벤트다~~~~!!!</title>
    <style>
        .area{
            background-color: bisque;
            border: 1px solid saddlebrown;
            height: 100px;
        }
    </style>
</head>
<body>
    <h1>이벤트!</h1>

    <h2>1. 이벤트 모델 종류(이벤트를 부여하는 방법들)</h2>

    <!--
        * 이벤트 모델 종류
        1. 고전 이벤트 모델 => btn.onclick = function(){}
        2. 인라인 이벤트 모델 => <button onclick ="함수();"></button>    <script>.....</script>
        3. 표준 이벤트 모델 => addEventListener를 이용하는 방법

        ***** 이벤트 관련 용어
        ***event target : 이벤트가 일어날 객체(button, ....)
        event type : 이벤트 종류(click, scroll, mouseover,....)
        event handler : 이벤트가 발생했을 때 동작할 코드들의 모임

    -->

    <h3>* 고전 이벤트 모델 (기본 이벤트 모델)</h3>
    <p>
        요소객체를 가지고 와서 해당 요소객체의 이벤트 속성에 접근한 후 <br>
        이벤트 핸들러를 연결하는 방식(== 익명함수를 대입한다.) <br> <br>

        요소객체.(이벤트)속성명 = function(){}; <br>
        => null를 대입하면 이벤트가 제거됨
    </p>

    <!-- 요소 내부에 직접적으로 이벤트 속성 기술 X -->
    <button id="btn1">실행확인</button>
    <button id="btn2">실행확인</button>

    <div id="area1" class="area"></div>

    <script>
        var area1 = document.getElementById('area1');
        /*
        // 버튼 요소 객체 가져오기
        var btn1 = document.getElementById('btn1');

        // 이벤트 부여
        btn1.onclick = function(){ // 이벤트핸들러
            area1.innerHTML += 'btn1이 클릭되었습니다. <br>';
        }
        */

        document.getElementById('btn1').onclick = function(){
            area1.innerHTML += 'btn1이 클릭되었습니다. <br>';
        }

        document.getElementById('btn2').onclick = function(){
            // btn2를 클릭하면 btn1의 이벤트를 제거
            document.getElementById('btn1').onclick = null; // 이벤트 제거
            area1.innerHTML += 'btn2가 클릭되면서 btn1의 이벤트 제거! <br>';
            // 이벤트가 제거된 후 btn1을 클릭하면 아무일도 일어나지 않는다.
        }
    </script>

    <h3>* 인라인 이벤트 모델</h3>
    <!-- 우리 맨날 하던거-->
    <p>
        요소 내부에 직접적으로 이벤트 속성을 제시해서 실행할 내용을 정의하는 방식 <br>
        주로 script내의 정의되어있는 함수를 호출하는 방법을 선호 <br>
    </p>

    <button onclick="document.getElementById('area2').innerHTML += '버튼클릭<br>'; alert('이벤트실행됨');">실행확인</button>
    <button onclick="test1();">실행확인</button>

    <!-- 
        첫번째버튼의 경우 요소 내부에 직접적으로 이벤트를 기술하면 실행에는 문제가 없는데
        가독성이 떨어지고 복잡하므로 잘 쓰지않음!! => 두번째 버튼 방식을 선호!!!

    -->

    <div id="area2" class="area"></div>

    <script>
        function test1(){
            document.getElementById('area2').innerHTML += '버튼클릭<br>';
            alert('이벤트실행됨');

        }
    </script>

    <!-- 표준 이벤트 모델 -->
    <!-- 브라우저마다 안되는곳이 많음 -->
    <h3>* 표준 이벤트 모델(addEventListener)</h3>
    <pre>
        [ 표현법 ]

        이벤트를 걸고자하는 요소객체.addEventListener('이벤트명', 이벤트핸들러=>익명함수);
    </pre>
    <button o id="btn3">실행확인</button>

    <script>
        var btn3 = document.getElementById('btn3');

        // btn3.addEventListener('이벤트명', 익명함수);
        btn3.addEventListener('click',function(){
            alert('표준 이벤트 모델 테스트');
        });

        // mouseenter : 버튼안으로 포인터가 들어가는 순간
        btn3.addEventListener('mouseenter', function(){
            btn3.style.background = 'orangered';
        });
        // mouseout : 버튼 밖으로 포인터가 빠져나가는 순간
        btn3.addEventListener('mouseout', function(){
            btn3.style.background = 'yellowgreen';
        });
    </script>

    <h3>***2. 현재 이벤트가 발생한 해당 요소객체(타겟)에 접근하는 방법</h3>

    <button id="btn4">고전이벤트방식</button>
    <button id="btn5">표준이벤트방식</button>
    <button onclick="test2();">인라인이벤트방식</button>
    <button onclick="test3(this);">인라인 이벤트 방식2</button>

    <script>
        // 고전 이벤트 방식
        document.getElementById('btn4').onclick = function(e){
            // 방법1)
            console.log(window.event);
            // PointerEvent, MouseEvent
            // 마우스를 이용한 이벤트 발생 시 발생하는 이벤트
            // 이벤트가 발생하면 내부적으로 window.event속성값을 담김
        
            // 방법2)
            console.log(e);
            // 이벤트가 발생하면 내부적으로 매개변수로 전달

            // 이벤트종류로부터 target속성값을 가져오기
            console.log(window.event.target);
            console.log(e.target);
            console.log(this);
            // 현재 이벤트가 발생한 요소객체를 가져오고자 한다면
            // window.event.target == e.target == this

            window.event.target.style.background = 'red';
            e.target.innerHTML = '버튼 클릭됨';
            this.style.color = 'white';
        
        }

        // 표준 이벤트 방식
        document.getElementById('btn5').addEventListener('click',function(e){
            // window.event.target == e.target == this

            window.event.target.style.background = 'black';
            e.target.innerHTML = '이벤트 발생!!';
            this.style.color = 'aqua';
        });

        // 인라인 이벤트 방식
        function test2(e) {
            console.log(window.event.target);
            //console.log(e.target); 사용불가 : 인라인 방식은 태그 내에서 직접 호출하기 때문
            console.log(this); // 선언적함수에서 this는 window객체를 가리킴

            // => 일반 선언적함수를 호출할 때는 window.event.target만 가능
        };

        function test3(el){
            console.log(el);
        }







    </script>

        




    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>